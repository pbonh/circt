set(LLVM_LINK_COMPONENTS
  Support
)

add_llvm_tool(circt-opt
  circt-opt.cpp
)
llvm_update_compile_flags(circt-opt)
target_link_libraries(circt-opt
  PRIVATE
  CIRCTAffineToPipeline
  CIRCTAnalysisTestPasses
  CIRCTCalyx
  CIRCTCalyxToHW
  CIRCTCalyxToFSM
  CIRCTCalyxTransforms
  CIRCTCHALK
  CIRCTCHALKTransforms
  CIRCTESI
  CIRCTExportChiselInterface
  CIRCTExportVerilog
  CIRCTFIRRTL
  CIRCTFIRRTLToCHALK
  CIRCTFIRRTLToHW
  CIRCTFIRRTLTransforms
  CIRCTFSM
  CIRCTFSMTransforms
  CIRCTFSMToSV
  CIRCTHandshake
  CIRCTHandshakeToFIRRTL
  CIRCTHandshakeToHW
  CIRCTHandshakeTransforms
  CIRCTLLHD
  CIRCTLLHDToLLVM
  CIRCTHWToLLVM
  CIRCTCombToLLVM
  CIRCTLLHDTransforms
  CIRCTMoore
  CIRCTMooreToCore
  CIRCTMSFT
  CIRCTMSFTTransforms
  CIRCTHW
  CIRCTHWArith
  CIRCTHWArithToHW
  CIRCTHWToLLHD
  CIRCTHWToSystemC
  CIRCTHWTransforms
  CIRCTSCFToCalyx
  CIRCTScheduling
  CIRCTSchedulingTestPasses
  CIRCTSeq
  CIRCTSeqTransforms
  CIRCTSSP
  CIRCTStandardToHandshake
  CIRCTPipelineOps
  CIRCTPipelineToCalyx
  CIRCTSV
  CIRCTSVTransforms
  CIRCTHWArith
  CIRCTSystemC
  CIRCTTransforms

  MLIRIR
  MLIRLLVMDialect
  MLIRMemRefDialect
  MLIROptLib
  MLIRParser
  MLIRFuncDialect
  MLIRSupport
  MLIRTransforms
  MLIRSCFDialect
  MLIREmitCDialect
)
